<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ad Astra</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</head>
<body>
<div class="text-center">
    <h1 class="text-center">Welcome To The Sci-Fi Quotes</h1>
</div>

<!-- <figure class="text-center">
    <p id="quote-text">Welcome To The Sci-Fi Quotes. If you would like to see a Sci-Fi Quote. Please press the button below</p>
  <figcaption class="blockquote-footer d-none" id="quote-origin"></figcaption>
</figure> -->

<p class="text-center" id="quote-figure">Welcome To The Sci-Fi Quotes. If you would like to see a Sci-Fi Quote. Please press the button below</p>

<div class="text-center">
    <button class="btn btn-primary" onclick="quote()">Get A Sci-Fi Quote</button>
</div>
<script>
    function quote() {
        fetch("/quote")
        .then(response => response.json())
        .then(json => {
            let figure = document.getElementById('quote-figure');
        // change <p> to backquotes figure if not already
            if (figure.tagName.toLowerCase() == "p") {
                figure.outerHTML = `
                <figure class="text-center" id="quote-figure">
                    <blockquote class="blockquote">
                        <p id="quote-text">${json.quote}</p>
                    </blockquote>
                    <figcaption class="blockquote-footer" id="quote-origin">
                        ${json.author}, <cite title="${json.book}">${json.book}</cite>
                    </figcaption>
                </figure>
                `
            } else {
                // if figure already is used
                document.getElementById("quote-text").innerText = `"${json.quote}"`;
                document.getElementById("quote-origin").innerText = `"${json.author}", "${json.book}"`;
            }
        });
    }
    
</script>



</body>
</html>